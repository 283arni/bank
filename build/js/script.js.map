{"version":3,"sources":["mocks.js","utils.js","slider.js","popup.js","step-three.js","step-two.js","step-one.js","map.js","scroll.js","login.js"],"names":["targets","house","title","names","fieldFullSum","fieldSum","lessSum","limits","min","max","minSum","step","percent","years","from","to","offer","sum","payment","car","credit","cities","coords","coords2","window","mocks","Year","ONE","FIVE","Divider","AFTER_THREE","AFTER_SIX","returnClearValue","parseInt","split","join","toString","transformYears","year","transformValue","length","substring","utils","KeyButton","ENTER","ENTER_NAME","Swiper","servicesLabels","document","querySelectorAll","label","addEventListener","e","keyCode","key","click","slider","querySelector","swiperTabs","swiper","loop","autoplay","delay","pagination","el","breakpoints","noSwiping","noSwipingClass","clickable","documentElement","clientWidth","services","wrapper","items","classList","add","item","ESC","ESC_NAME","TAB","TAB_NAME","Popup","popup","body","loginPopup","thanksPopup","login","password","loginButton","passwordButton","closeButton","onClosePopupClick","bind","onButtonKeydown","onClosePopupKeydown","onPasswordButtonMousedown","onPasswordButtonMouseup","onSubmitButtonKeydown","append","focus","remove","removeEventListener","preventDefault","closePopup","setAttribute","user","value","localStorage","setItem","JSON","stringify","Numeral","FIRST_REQUEST","SECOND","blockStepTwo","blockOffer","defaultSelect","requestContainer","templateThanks","content","target","requestId","sumTitle","itemRequest","submitButton","name","inputs","number","cloneThanks","cloneNode","closeStepsBlock","style","display","checked","saveAndClearFields","person","tel","email","input","type","renderStepThree","textContent","removeErrorClass","isValid","validity","valid","openPopup","setTimeout","stepThree","blockBack","SALARY_PERCENT","Select","HOUSE","CAR","CREDIT","DEFAULT","FIRST_LITTER","LAST_LITTER","FIRST_SYMBOL","LAST_SYMBOL","SPACE","MONTHS","HUNDRED","Limit","MIDDLE","MAX","sumBlock","limit","sumWrapper","minusButton","plusButton","inputSum","sumFullTitle","pieceSum","fieldPieceSum","rangePieceSum","fieldYears","rangeYears","fromYears","toYears","checkboxesLabel","checkboxesVisible","checkboxes","sumOffer","percentOffer","everyMonthPayment","needSalary","offerButton","textCredit","textMoney","globalItem","addFirstPayment","price","percentPrice","addPercentFirstPayment","percentMin","newPercent","returnPercentRate","insurance","lifeInsurance","salaryBox","salaryClientRate","addInfoOffer","motherMoney","percentRate","amountMonths","percentRateFormula","parseFloat","formula","Math","pow","paymentEveryMonth","salary","addPercentYears","calcSumField","flag","newSum","calcFirstPayment","calcYearsField","limitValue","onSumFieldChange","placeholder","onPlusButtonClick","onMinusButtonClick","onYearsFieldChange","onInputKeydown","onPieceSumChange","percentSum","onRangePieceSumChange","onRangeYearsChange","onOfferButtonClick","onCheckboxKeydown","parentElement","control","renderCheckboxes","entries","i","checkbox","dataset","renderStepTwo","firstPayment","toggleToStepTwo","stepTwo","calculatorContainer","buttonOpenSelect","labels","toggle","TABLET_BREAKPOINT","locationMark","icon","size","offset","elem","createElement","src","after","ymaps","mapBlock","ready","init","checkContainer","mapContainer","marks","map","city","Placemark","iconLayout","iconImageHref","iconImageSize","iconImageOffset","myMap","Map","center","zoom","controls","position","left","right","bottom","top","behaviors","disable","onCheckboxesChange","boxesChecked","geoObjects","box","links","speed","iter","getAttribute","anchor","coordinateAnchor","getBoundingClientRect","pageOffset","pageYOffset","start","requestAnimationFrame","time","progress","coordinate","scrollTo","templateLogin","cloneLogin","popupLogin"],"mappings":"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","file":"script.js","sourcesContent":["\"use strict\";\n\n(function () {\n  const targets = {\n    house: {\n      title: `Ипотека`,\n      names: {\n        fieldFullSum: `Стоимость недвижимости`,\n        fieldSum: `Сумма ипотеки`,\n        lessSum: `ипотечные кредиты`\n      },\n      limits: {\n        min: `1 200 000`,\n        max: `25 000 000`\n      },\n      minSum: 500000,\n      step: 100000,\n      percent: 10,\n      years: {\n        from: `5`,\n        to: `30`\n      },\n      offer: {\n        sum: ``,\n        years: ``,\n        payment: ``,\n      }\n    },\n    car: {\n      title: `Автокредит`,\n      names: {\n        fieldFullSum: `Стоимость автомобиля`,\n        fieldSum: `Сумма автокредита`,\n        lessSum: `автокредиты`\n      },\n      limits: {\n        min: `500 000`,\n        max: `5 000 000`\n      },\n      percent: 20,\n      minSum: 200000,\n      step: 50000,\n      years: {\n        from: `1`,\n        to: `5`\n      },\n      offer: {\n        sum: ``,\n        years: ``,\n        payment: ``,\n      }\n    },\n    credit: {\n      title: `Потребительский кредит`,\n      names: {\n        fieldFullSum: `Сумма потребительского кредита`,\n        fieldSum: `Сумма кредита`\n      },\n      limits: {\n        min: `50 000`,\n        max: `3 000 000`\n      },\n      percent: 0,\n      step: 50000,\n      years: {\n        from: `1`,\n        to: `7`\n      },\n      offer: {\n        sum: ``,\n        years: ``,\n        payment: `0 рублей`,\n      }\n    }\n  };\n\n  const cities = [\n    {\n      title: `russia`,\n      coords: 55.755814,\n      coords2: 37.617635,\n    },\n    {\n      title: `russia`,\n      coords: 59.938951,\n      coords2: 30.315635,\n    },\n    {\n      title: `russia`,\n      coords: 51.533557,\n      coords2: 46.034257,\n    },\n    {\n      title: `russia`,\n      coords: 58.603591,\n      coords2: 49.668014,\n    },\n    {\n      title: `russia`,\n      coords: 57.153033,\n      coords2: 65.534328,\n    },\n    {\n      title: `russia`,\n      coords: 54.989342,\n      coords2: 73.368212,\n    },\n    {\n      title: `sng`,\n      coords: 40.372967,\n      coords2: 49.853139,\n    },\n    {\n      title: `sng`,\n      coords: 41.311151,\n      coords2: 69.279737,\n    },\n    {\n      title: `sng`,\n      coords: 53.902284,\n      coords2: 27.561831,\n    },\n    {\n      title: `sng`,\n      coords: 43.237156,\n      coords2: 76.945618,\n    },\n    {\n      title: `europe`,\n      coords: 48.856663,\n      coords2: 2.351556,\n    },\n    {\n      title: `europe`,\n      coords: 50.080293,\n      coords2: 14.428983,\n    },\n    {\n      title: `europe`,\n      coords: 51.507351,\n      coords2: -0.127660,\n    },\n    {\n      title: `europe`,\n      coords: 41.902689,\n      coords2: 12.496176,\n    }\n  ];\n\n  window.mocks = {\n    targets,\n    cities\n  };\n})();\n","'use strict';\n\n(function () {\n  const Year = {\n    ONE: 1,\n    FIVE: 5\n  };\n\n  const Divider = {\n    AFTER_THREE: 3,\n    AFTER_SIX: 6\n  };\n\n  const returnClearValue = (sum) => {\n    return parseInt(sum.split(` `).join(``), 10).toString();\n  };\n\n  const transformYears = (year) => {\n    if (!year) {\n      return ``;\n    }\n\n    year = returnClearValue(year);\n\n    if (+year === Year.ONE) {\n      return `${year} год`;\n    }\n\n    if (+year > Year.ONE && +year < Year.FIVE) {\n      return `${year} года`;\n    }\n\n    return `${year} лет`;\n  };\n\n  const transformValue = (sum) => {\n\n    if (!sum) {\n      return ``;\n    }\n\n    sum = returnClearValue(sum);\n\n    if (sum.length <= Divider.AFTER_SIX && sum.length > Divider.AFTER_THREE) {\n      return `${sum.substring(sum.length - Divider.AFTER_THREE, 0)} ${sum.substring(sum.length - Divider.AFTER_THREE)} рублей`;\n    }\n\n    if (sum.length > Divider.AFTER_SIX) {\n      return `${sum.substring(sum.length - Divider.AFTER_SIX, 0)} ${sum.substring(sum.length - Divider.AFTER_THREE, sum.length - Divider.AFTER_SIX)} ${sum.substring(sum.length - Divider.AFTER_THREE)} рублей`;\n    }\n\n    return `${sum} рублей`;\n  };\n\n  window.utils = {\n    returnClearValue,\n    transformValue,\n    transformYears\n  };\n})();\n","'use strict';\n\n(function () {\n  const KeyButton = {\n    ENTER: 13,\n    ENTER_NAME: `Enter`,\n\n  };\n  const Swiper = window.Swiper;\n\n  if (!Swiper) {\n    return;\n  }\n\n\n  const servicesLabels = document.querySelectorAll(`.services__wrapper label`);\n\n  for (const label of servicesLabels) {\n    label.addEventListener(`keydown`, (e) => {\n      if (e.keyCode === KeyButton.ENTER || e.key === KeyButton.ENTER_NAME) {\n        label.click();\n      }\n    });\n  }\n\n  const slider = document.querySelector(`.slider`);\n  let swiperTabs;\n\n  const swiper = new Swiper(slider, {\n    loop: true,\n    autoplay: {\n      delay: 4000\n    },\n    pagination: {\n      el: `.slider__pagination`\n    },\n    breakpoints: {\n      1024: {\n        noSwiping: true,\n        noSwipingClass: `slider`,\n        pagination: {\n          clickable: true,\n        },\n      }\n    }\n  });\n\n  if (document.documentElement.clientWidth < 1024) {\n    const services = document.querySelector(`.services__wrapper form`);\n    const wrapper = services.querySelector(`form > ul`);\n    const items = services.querySelectorAll(`form > ul li`);\n\n    services.classList.add(`swiper-container`);\n    wrapper.classList.add(`swiper-wrapper`);\n\n    for (const item of items) {\n      item.classList.add(`swiper-slide`);\n    }\n\n    swiperTabs = new Swiper(services, {\n      breakpoints: {\n        280: {\n          loop: true,\n          pagination: {\n            el: `.services__pagination`\n          },\n        },\n        1024: {\n          loop: false,\n          noSwiping: true,\n          noSwipingClass: `swiper-container`,\n        }\n      }\n    });\n  }\n\n  window.slider = {\n    swiperTabs,\n    swiper\n  };\n})();\n","'use strict';\n\n(function () {\n  const KeyButton = {\n    ESC: 27,\n    ESC_NAME: `Escape`,\n    ENTER: 13,\n    ENTER_NAME: `Enter`,\n    TAB: 9,\n    TAB_NAME: `Tab`\n  };\n\n  class Popup {\n    constructor(popup) {\n      this.popup = popup;\n      this.body = document.querySelector(`body`);\n      this.loginPopup = this.popup.querySelector(`.login__wrapper`);\n      this.thanksPopup = this.popup.querySelector(`.thanks__wrapper`);\n      this.login = this.popup.querySelector(`#login-field`);\n      this.password = this.popup.querySelector(`#password-field`);\n      this.loginButton = this.popup.querySelector(`#login-button`);\n      this.passwordButton = this.popup.querySelector(`#password-button`);\n      this.closeButton = this.popup.querySelector(`.close`);\n\n      this.onClosePopupClick = this.onClosePopupClick.bind(this);\n      this.onButtonKeydown = this.onButtonKeydown.bind(this);\n      this.onClosePopupKeydown = this.onClosePopupKeydown.bind(this);\n      this.onPasswordButtonMousedown = this.onPasswordButtonMousedown.bind(this);\n      this.onPasswordButtonMouseup = this.onPasswordButtonMouseup.bind(this);\n      this.onSubmitButtonKeydown = this.onSubmitButtonKeydown.bind(this);\n    }\n\n    openPopup() {\n      this.body.classList.add(`active-popup`);\n      this.body.append(this.popup);\n\n      this.closeButton.addEventListener(`click`, this.onClosePopupClick);\n      document.addEventListener(`keydown`, this.onClosePopupKeydown);\n\n      if (this.loginPopup) {\n        this.login.focus();\n        this.loginButton.addEventListener(`keydown`, this.onButtonKeydown);\n        this.loginButton.addEventListener(`click`, this.onSubmitButtonKeydown);\n        this.passwordButton.addEventListener(`mousedown`, this.onPasswordButtonMousedown);\n        this.passwordButton.addEventListener(`mouseup`, this.onPasswordButtonMouseup);\n        return;\n      }\n\n      this.closeButton.addEventListener(`keydown`, this.onButtonKeydown);\n      this.closeButton.focus();\n    }\n\n    closePopup() {\n      this.body.classList.remove(`active-popup`);\n      this.closeButton.removeEventListener(`click`, this.onClosePopupClick);\n      document.removeEventListener(`keydown`, this.onClosePopupKeydown);\n\n      if (this.loginPopup) {\n        this.loginButton.removeEventListener(`keydown`, this.onButtonKeydown);\n        this.loginButton.removeEventListener(`click`, this.onSubmitButtonKeydown);\n        this.passwordButton.removeEventListener(`mousedown`, this.onPasswordButtonMousedown);\n        this.passwordButton.removeEventListener(`mouseup`, this.onPasswordButtonMouseup);\n        return;\n      }\n\n      this.closeButton.removeEventListener(`keydown`, this.onButtonKeydown);\n    }\n\n    onButtonKeydown(e) {\n      e.preventDefault();\n\n      if (e.keyCode === KeyButton.TAB || e.key === KeyButton.TAB_NAME) {\n        this.closeButton.focus();\n      }\n\n      if (e.keyCode === KeyButton.ENTER || e.key === KeyButton.ENTER_NAME) {\n        this.closeButton.click();\n      }\n    }\n\n    onClosePopupKeydown(e) {\n      if (e.keyCode === KeyButton.ESC || e.key === KeyButton.ESC_NAME) {\n        this.popup.remove();\n        this.closePopup();\n      }\n    }\n\n    onClosePopupClick() {\n      this.popup.remove();\n      this.closePopup();\n    }\n\n    onPasswordButtonMousedown() {\n      this.password.setAttribute(`type`, `text`);\n    }\n\n    onPasswordButtonMouseup() {\n      this.password.setAttribute(`type`, `password`);\n    }\n\n    onSubmitButtonKeydown() {\n      const user = {\n        login: this.login.value,\n        password: this.password.value\n      };\n\n      localStorage.setItem(`user`, JSON.stringify(user));\n    }\n  }\n\n  window.Popup = Popup;\n})();\n","'use strict';\n\n(function () {\n  const Numeral = {\n    FIRST_REQUEST: 1,\n    SECOND: 1000\n  };\n\n  const blockStepTwo = document.querySelector(`.calculator__step-two`);\n  const blockOffer = document.querySelector(`.calculator__offer`);\n  const defaultSelect = document.querySelector(`#option-1`);\n  const requestContainer = document.querySelector(`.calculator__request`);\n  const templateThanks = document.querySelector(`#popup-thanks`).content;\n\n  if (!blockStepTwo || !blockOffer || !defaultSelect || !requestContainer || !templateThanks) {\n    return;\n  }\n\n  const target = requestContainer.querySelector(`#request-target`);\n  const requestId = requestContainer.querySelector(`#request-id`);\n  const sum = requestContainer.querySelector(`#request-sum`);\n  const payment = requestContainer.querySelector(`#request-payment`);\n  const years = requestContainer.querySelector(`#request-years`);\n  const sumTitle = requestContainer.querySelector(`#sum-title`);\n  const itemRequest = requestContainer.querySelector(`#request-item`);\n  const submitButton = requestContainer.querySelector(`button`);\n  const name = requestContainer.querySelector(`input[type='text']`);\n  const inputs = requestContainer.querySelectorAll(`input`);\n  let number = Numeral.FIRST_REQUEST;\n\n  const cloneThanks = templateThanks.querySelector(`.thanks`).cloneNode(true);\n\n  const Popup = window.Popup;\n  const popup = new Popup(cloneThanks);\n\n  const closeStepsBlock = () => {\n    blockStepTwo.style.display = `none`;\n    blockOffer.style.display = `none`;\n    requestContainer.style.display = `none`;\n    defaultSelect.checked = true;\n  };\n\n  const saveAndClearFields = () => {\n\n    let person = {\n      name: ``,\n      tel: ``,\n      email: ``\n    };\n\n    for (const input of inputs) {\n      if (input.type === `email`) {\n        person.email = input.value;\n      }\n\n      if (input.type === `text`) {\n        person.name = input.value;\n      }\n\n      if (input.type === `tel`) {\n        person.tel = input.value;\n      }\n\n      input.value = ``;\n    }\n\n    localStorage.setItem(`person`, JSON.stringify(person));\n  };\n\n  const renderStepThree = (item) => {\n    requestContainer.style.display = `block`;\n    requestId.textContent = `№ 00${number}`;\n    target.textContent = item.title;\n    sumTitle.textContent = item.names.fieldFullSum;\n    years.textContent = item.offer.years;\n    sum.textContent = item.offer.sum;\n\n    name.focus();\n\n    if (!item.offer.payment) {\n      itemRequest.style.display = `none`;\n      return;\n    }\n\n    itemRequest.style.display = `flex`;\n    payment.textContent = item.offer.payment;\n  };\n\n  const removeErrorClass = () => {\n    for (const input of inputs) {\n      input.classList.remove(`error`);\n    }\n  };\n\n  submitButton.addEventListener(`click`, (e) => {\n    let isValid = true;\n\n    e.preventDefault();\n\n    for (const input of inputs) {\n      if (!input.validity.valid) {\n        input.classList.add(`error`);\n        input.value = ``;\n        isValid = false;\n      }\n    }\n\n    if (isValid) {\n      popup.openPopup();\n      saveAndClearFields();\n      closeStepsBlock();\n      number++;\n    }\n\n    setTimeout(() => {\n      removeErrorClass();\n    }, Numeral.SECOND);\n  });\n\n  window.stepThree = {\n    renderStepThree\n  };\n})();\n","'use strict';\n\n(function () {\n  const requestContainer = document.querySelector(`.calculator__request`);\n  const blockStepTwo = document.querySelector(`.calculator__step-two`);\n  const blockOffer = document.querySelector(`.calculator__offer`);\n  const blockBack = document.querySelector(`.calculator__back`);\n\n\n  if (!requestContainer || !blockStepTwo || !blockOffer || !blockBack) {\n    return;\n  }\n\n  const SALARY_PERCENT = 45;\n\n  const Select = {\n    HOUSE: `Ипотека`,\n    CAR: `Автокредит`,\n    CREDIT: `Потребительский кредит`,\n    DEFAULT: `default`\n  };\n\n  const KeyButton = {\n    FIRST_LITTER: 64,\n    LAST_LITTER: 91,\n    FIRST_SYMBOL: 157,\n    LAST_SYMBOL: 223,\n    SPACE: 32,\n    ENTER: 13,\n    ENTER_NAME: `Enter`\n  };\n\n  const Numeral = {\n    MONTHS: 12,\n    HUNDRED: 100,\n  };\n\n  const Limit = {\n    MIDDLE: 750000,\n    MAX: 2000000\n  };\n\n  const sumBlock = blockStepTwo.querySelector(`.calculator__sum`);\n  const limit = sumBlock.querySelector(`span`);\n  const sumWrapper = sumBlock.querySelector(`.calculator__sum-wrapper`);\n  const minusButton = sumWrapper.querySelector(`#btn-minus`);\n  const plusButton = sumWrapper.querySelector(`#btn-plus`);\n  const inputSum = sumBlock.querySelector(`input`);\n  const sumFullTitle = blockStepTwo.querySelector(`.calculator__wrapper-two label`);\n  const pieceSum = blockStepTwo.querySelector(`.calculator__piece`);\n  const fieldPieceSum = pieceSum.querySelector(`input[type='text']`);\n  const rangePieceSum = pieceSum.querySelector(`input[type='range']`);\n  const percent = pieceSum.querySelector(`span`);\n  const fieldYears = blockStepTwo.querySelector(`#years`);\n  const rangeYears = blockStepTwo.querySelector(`#range-years`);\n  const fromYears = blockStepTwo.querySelector(`.calculator__years-limit span:first-of-type`);\n  const toYears = blockStepTwo.querySelector(`.calculator__years-limit span:last-of-type`);\n  const checkboxesLabel = blockStepTwo.querySelectorAll(`input[type='checkbox'] + label`);\n  const checkboxesVisible = blockStepTwo.querySelectorAll(`input[type='checkbox'] + label span`);\n  const checkboxes = blockStepTwo.querySelectorAll(`input[type=\"checkbox\"]`);\n\n  const sumTitle = blockOffer.querySelector(`ul li:first-of-type span:last-of-type`);\n  const sumOffer = blockOffer.querySelector(`#info-sum`);\n  const percentOffer = blockOffer.querySelector(`#info-percent`);\n  const everyMonthPayment = blockOffer.querySelector(`#info-piece`);\n  const needSalary = blockOffer.querySelector(`#info-salary`);\n  const offerButton = blockOffer.querySelector(`button`);\n\n  const textCredit = blockBack.querySelector(`span:first-of-type`);\n  const textMoney = blockBack.querySelector(`span:last-of-type`);\n\n\n  const transformValue = window.utils.transformValue;\n  const returnClearValue = window.utils.returnClearValue;\n  const transformYears = window.utils.transformYears;\n  const targets = window.mocks.targets;\n  const renderStepThree = window.stepThree.renderStepThree;\n  let globalItem = null;\n\n  const addFirstPayment = () => {\n    const price = +returnClearValue(inputSum.value);\n    const percentPrice = (price / Numeral.HUNDRED) * +rangePieceSum.value;\n    percent.textContent = `${rangePieceSum.value}%`;\n    return transformValue(percentPrice.toString());\n  };\n\n  const addPercentFirstPayment = (percentMin) => {\n    const newPercent = parseInt((+returnClearValue(fieldPieceSum.value) / +returnClearValue(inputSum.value)) * Numeral.HUNDRED, 10);\n\n    rangePieceSum.setAttribute(`value`, percentMin || newPercent);\n    rangePieceSum.value = percentMin || newPercent;\n    percent.textContent = `${newPercent}%`;\n    return newPercent;\n  };\n\n  const returnPercentRate = () => {\n    const insurance = blockStepTwo.querySelector(`#insurance`);\n    const lifeInsurance = blockStepTwo.querySelector(`#life-insurance`);\n    const salaryBox = blockStepTwo.querySelector(`#salary`);\n\n    if (globalItem.title === Select.CAR) {\n      if (insurance.checked && lifeInsurance.checked) {\n        return `3.5%`;\n      }\n\n      if (insurance.checked || lifeInsurance.checked) {\n        return `8.5%`;\n      }\n\n      return +returnClearValue(inputSum.value) < Limit.MAX ? `16%` : `15%`;\n    }\n\n    if (globalItem.title === Select.CREDIT) {\n      const salaryClientRate = salaryBox.checked ? 0.5 : 0;\n\n      if (+returnClearValue(inputSum.value) < Limit.MIDDLE) {\n        return `${15 - salaryClientRate}%`;\n      }\n\n      return +returnClearValue(inputSum.value) < Limit.MAX ? `${12.5 - salaryClientRate}%` : `${9.5 - salaryClientRate}%`;\n    }\n\n    return +rangePieceSum.value >= 15 ? `8.5%` : `9.4%`;\n  };\n\n  const addInfoOffer = () => {\n    const motherMoney = blockStepTwo.querySelector(`#mother-money`);\n    let sum = +returnClearValue(inputSum.value) - +returnClearValue(fieldPieceSum.value);\n\n    if (motherMoney.checked) {\n      sum -= +motherMoney.value;\n    }\n\n    if (sum < globalItem.minSum) {\n      blockOffer.style.display = `none`;\n      blockBack.style.display = `block`;\n    }\n\n    if (sum >= globalItem.minSum) {\n      blockOffer.style.display = `block`;\n      blockBack.style.display = `none`;\n    }\n\n    const percentRate = returnPercentRate();\n    const amountMonths = +returnClearValue(fieldYears.value) * Numeral.MONTHS;\n    const percentRateFormula = (parseFloat(percentRate, 10) / Numeral.HUNDRED) / Numeral.MONTHS;\n    const formula = Math.pow(1 + percentRateFormula, amountMonths) - 1;\n    const paymentEveryMonth = sum * (percentRateFormula + percentRateFormula / formula);\n\n    everyMonthPayment.textContent = transformValue(paymentEveryMonth.toString());\n\n    const salary = +returnClearValue(everyMonthPayment.textContent) * (Numeral.HUNDRED / SALARY_PERCENT);\n\n    sumOffer.textContent = transformValue(sum.toString());\n    needSalary.textContent = transformValue(salary.toString());\n    percentOffer.textContent = percentRate;\n\n    globalItem.offer.sum = inputSum.value;\n    globalItem.offer.payment = globalItem.title === Select.CREDIT ? null : fieldPieceSum.value;\n    globalItem.offer.years = fieldYears.value;\n  };\n\n  const addPercentYears = () => {\n    const years = returnClearValue(fieldYears.value);\n\n    rangeYears.setAttribute(`value`, years);\n    rangeYears.value = years;\n  };\n\n  const calcSumField = (item, flag) => {\n    let newSum;\n\n    if (!inputSum.value) {\n      return;\n    }\n\n    if (flag) {\n      newSum = +returnClearValue(inputSum.value) + item.step;\n    } else {\n      newSum = +returnClearValue(inputSum.value) - item.step;\n    }\n\n    inputSum.value = transformValue(newSum.toString());\n\n    if (+returnClearValue(inputSum.value) >= +returnClearValue(item.limits.max)) {\n      calcFirstPayment(item.limits.max);\n      return;\n    }\n\n    if (+returnClearValue(inputSum.value) <= +returnClearValue(item.limits.min)) {\n      calcFirstPayment(item.limits.min);\n      return;\n    }\n\n    fieldPieceSum.value = addFirstPayment();\n    addInfoOffer();\n  };\n\n  const calcYearsField = (value) => {\n    fieldYears.value = transformYears(value);\n    addPercentYears();\n    addInfoOffer();\n  };\n\n  const calcFirstPayment = (limitValue) => {\n    inputSum.value = transformValue(limitValue);\n    fieldPieceSum.value = addFirstPayment();\n    addInfoOffer();\n  };\n\n  const onSumFieldChange = () => {\n\n    sumWrapper.classList.remove(`error`);\n    inputSum.placeholder = ``;\n\n    if (+returnClearValue(inputSum.value) < +returnClearValue(globalItem.limits.min) || +returnClearValue(inputSum.value) > +returnClearValue(globalItem.limits.max)) {\n      sumWrapper.classList.add(`error`);\n      inputSum.value = ``;\n      inputSum.placeholder = `Некорректное значение`;\n      return;\n    }\n\n    inputSum.value = transformValue(inputSum.value);\n    fieldPieceSum.value = addFirstPayment();\n    addInfoOffer();\n  };\n\n  const onPlusButtonClick = () => {\n    calcSumField(globalItem, true);\n  };\n\n  const onMinusButtonClick = () => {\n    calcSumField(globalItem, false);\n  };\n\n  const onYearsFieldChange = () => {\n    if (+fieldYears.value < +returnClearValue(globalItem.years.from)) {\n      calcYearsField(globalItem.years.from);\n      return;\n    }\n\n    if (+fieldYears.value > +returnClearValue(globalItem.years.to)) {\n      calcYearsField(globalItem.years.to);\n      return;\n    }\n\n    fieldYears.value = transformYears(fieldYears.value);\n    calcYearsField(fieldYears.value);\n  };\n\n  const onInputKeydown = (e) => {\n    if ((e.keyCode > KeyButton.FIRST_LITTER && e.keyCode < KeyButton.LAST_LITTER) || (e.keyCode > KeyButton.FIRST_SYMBOL && e.keyCode < KeyButton.LAST_SYMBOL) || e.keyCode === KeyButton.SPACE) {\n      e.preventDefault();\n    }\n  };\n\n  const onPieceSumChange = () => {\n    const percentSum = addPercentFirstPayment();\n\n    if (percentSum <= globalItem.percent) {\n      addPercentFirstPayment(globalItem.percent);\n      fieldPieceSum.value = addFirstPayment();\n      addInfoOffer();\n      return;\n    }\n\n    fieldPieceSum.value = transformValue(fieldPieceSum.value);\n    addInfoOffer();\n  };\n\n  const onRangePieceSumChange = () => {\n    fieldPieceSum.value = addFirstPayment();\n    addInfoOffer();\n  };\n\n  const onRangeYearsChange = () => {\n    fieldYears.value = transformYears(rangeYears.value);\n    addInfoOffer();\n  };\n\n  const onOfferButtonClick = () => {\n    renderStepThree(globalItem);\n  };\n\n  const onCheckboxKeydown = (e) => {\n    if (e.keyCode === KeyButton.ENTER || e.key === KeyButton.ENTER_NAME) {\n      e.target.parentElement.control.click();\n    }\n  };\n\n  const renderCheckboxes = (title) => {\n    for (const [i, checkbox] of checkboxesLabel.entries()) {\n      checkbox.style.display = `none`;\n      checkboxes[i].checked = false;\n\n      if (checkbox.dataset.title === title) {\n        checkbox.style.display = `flex`;\n      }\n    }\n  };\n\n  const renderStepTwo = (item) => {\n    globalItem = item;\n    const firstPayment = ((+returnClearValue(item.limits.min) / Numeral.HUNDRED) * item.percent).toString();\n\n    blockStepTwo.style.display = `block`;\n    blockOffer.style.display = `block`;\n    requestContainer.style.display = `none`;\n    pieceSum.style.display = pieceSum.dataset.title === item.title ? `none` : `flex`;\n\n    sumFullTitle.textContent = item.names.fieldFullSum;\n    limit.textContent = `От ${item.limits.min} до ${item.limits.max} рублей`;\n    sumTitle.textContent = item.names.fieldSum;\n    inputSum.value = transformValue(returnClearValue(item.limits.min));\n    fieldPieceSum.value = transformValue(firstPayment);\n    rangePieceSum.setAttribute(`min`, item.percent);\n    rangePieceSum.setAttribute(`value`, item.percent);\n    rangePieceSum.value = item.percent;\n    percent.textContent = `${item.percent}%`;\n    fieldYears.value = transformYears(item.years.from);\n    rangeYears.setAttribute(`min`, item.years.from);\n    rangeYears.setAttribute(`max`, item.years.to);\n    rangeYears.setAttribute(`value`, item.years.from);\n    rangeYears.value = item.years.from;\n    fromYears.textContent = transformYears(item.years.from);\n    toYears.textContent = transformYears(item.years.to);\n    textCredit.textContent = item.names.lessSum || null;\n    textMoney.textContent = transformValue(item.minSum ? item.minSum.toString() : null);\n\n    renderCheckboxes(item.title);\n    addInfoOffer();\n  };\n\n  const toggleToStepTwo = (value) => {\n    switch (value) {\n      case Select.HOUSE:\n        renderStepTwo(targets.house);\n        break;\n      case Select.CAR:\n        renderStepTwo(targets.car);\n        break;\n      case Select.CREDIT:\n        renderStepTwo(targets.credit);\n        break;\n      case Select.DEFAULT:\n        blockStepTwo.style.display = `none`;\n        blockOffer.style.display = `none`;\n        requestContainer.style.display = `none`;\n        break;\n    }\n  };\n\n\n  inputSum.addEventListener(`change`, onSumFieldChange);\n  fieldYears.addEventListener(`change`, onYearsFieldChange);\n  fieldPieceSum.addEventListener(`change`, onPieceSumChange);\n  rangePieceSum.addEventListener(`change`, onRangePieceSumChange);\n  rangeYears.addEventListener(`change`, onRangeYearsChange);\n  plusButton.addEventListener(`click`, onPlusButtonClick);\n  minusButton.addEventListener(`click`, onMinusButtonClick);\n  offerButton.addEventListener(`click`, onOfferButtonClick);\n  inputSum.addEventListener(`keydown`, onInputKeydown);\n  fieldPieceSum.addEventListener(`keydown`, onInputKeydown);\n  fieldYears.addEventListener(`keydown`, onInputKeydown);\n\n  for (const [i, checkbox] of checkboxes.entries()) {\n    checkbox.addEventListener(`change`, addInfoOffer);\n    checkboxesVisible[i].addEventListener(`keydown`, onCheckboxKeydown);\n  }\n\n  window.stepTwo = {\n    toggleToStepTwo\n  };\n})();\n","'use strict';\n\n(function () {\n  const calculatorContainer = document.querySelector(`.calculator__step-wrapper`);\n\n  if (!calculatorContainer) {\n    return;\n  }\n\n  const buttonOpenSelect = calculatorContainer.querySelector(`button`);\n  const labels = calculatorContainer.querySelectorAll(`label`);\n  const toggleToStepTwo = window.stepTwo.toggleToStepTwo;\n\n  calculatorContainer.addEventListener(`change`, () => {\n    const input = calculatorContainer.querySelector(`input:checked`);\n    toggleToStepTwo(input.value);\n  });\n\n\n  buttonOpenSelect.addEventListener(`click`, () => {\n    calculatorContainer.classList.toggle(`open`);\n  });\n\n  for (const label of labels) {\n    label.addEventListener(`click`, () => {\n      calculatorContainer.classList.toggle(`open`);\n    });\n  }\n})();\n","'use strict';\n\n(function () {\n  const TABLET_BREAKPOINT = 768;\n  const KeyButton = {\n    ENTER: 13,\n    ENTER_NAME: `Enter`\n  };\n\n  let locationMark = {\n    icon: `img/location.png`,\n    size: [35, 40],\n    offset: [-17, -40]\n  };\n\n  if (document.documentElement.clientWidth < TABLET_BREAKPOINT) {\n    locationMark.icon = `img/location-phone.png`;\n    locationMark.size = [27, 33];\n    locationMark.offset = [-14, -33];\n  }\n\n  const cities = window.mocks.cities;\n\n  setTimeout(() => {\n    const elem = document.createElement(`script`);\n    elem.src = `https://api-maps.yandex.ru/2.1/?apikey=bcbda5be-152e-4e0e-962c-8eb3b84f36b6&lang=ru_RU&&load=package.map`;\n    document.querySelector(`#popup-login`).after(elem);\n  }, 2000);\n\n  setTimeout(() => {\n\n\n    const ymaps = window.ymaps;\n\n    const mapBlock = document.querySelector(`#branches`);\n\n    if (!mapBlock) {\n      return;\n    }\n\n    ymaps.ready(init);\n\n    const checkContainer = mapBlock.querySelector(`.branches__check`);\n    const checkboxes = checkContainer.querySelectorAll(`label span`);\n\n    const mapContainer = mapBlock.querySelector(`#map`);\n\n\n    const onCheckboxKeydown = (e) => {\n      if (e.keyCode === KeyButton.ENTER || e.key === KeyButton.ENTER_NAME) {\n        e.target.parentElement.control.click();\n      }\n    };\n\n    function init() {\n\n      const marks = cities.map((city) => {\n        return new ymaps.Placemark([city.coords, city.coords2], {}, {\n          iconLayout: `default#image`,\n          iconImageHref: locationMark.icon,\n          iconImageSize: locationMark.size,\n          iconImageOffset: locationMark.offset\n        });\n      });\n\n      const myMap = new ymaps.Map(mapContainer, {\n        center: [55.76, 37.64],\n        zoom: 4,\n        controls: []\n      });\n\n      myMap.controls.add(`zoomControl`, {\n        size: `small`,\n        position: {\n          left: `auto`,\n          right: 10,\n          bottom: 195,\n          top: `auto`\n        }\n      });\n\n      myMap.controls.add(`geolocationControl`, {\n        position: {\n          left: `auto`,\n          right: 10,\n          bottom: 150,\n          top: `auto`\n        }\n      });\n\n      myMap.behaviors.disable(`scrollZoom`);\n\n      const onCheckboxesChange = () => {\n        const boxesChecked = checkContainer.querySelectorAll(`.branches__check input[type='checkbox']:checked`);\n\n        for (const [i, city] of cities.entries()) {\n          myMap.geoObjects.remove(marks[i]);\n          for (const checkbox of boxesChecked) {\n            if (checkbox.value === city.title) {\n              myMap.geoObjects.add(marks[i]);\n            }\n          }\n        }\n      };\n\n      checkContainer.addEventListener(`change`, onCheckboxesChange);\n\n      for (const box of checkboxes) {\n        box.addEventListener(`keydown`, onCheckboxKeydown);\n      }\n    }\n  }, 3000);\n\n})();\n","'use strict';\n\n(function () {\n  const links = document.querySelectorAll(`[href^='#']`);\n  const speed = 0.5;\n\n  for (const iter of links) {\n    iter.addEventListener(`click`, (e) => {\n      e.preventDefault();\n\n      if (iter.getAttribute(`href`) === `#`) {\n        return;\n      }\n\n      const anchor = document.querySelector(iter.getAttribute(`href`));\n      const coordinateAnchor = anchor.getBoundingClientRect().top;\n      const pageOffset = window.pageYOffset;\n\n      let start = null;\n\n      requestAnimationFrame(step);\n\n      function step(time) {\n        if (start === null) {\n          start = time;\n        }\n\n        let progress = time - start;\n\n        let coordinate =\n          coordinateAnchor < 0\n            ? Math.max(pageOffset - progress / speed, pageOffset + coordinateAnchor)\n            : Math.min(pageOffset + progress / speed, pageOffset + coordinateAnchor);\n\n        window.scrollTo(0, coordinate);\n        if (coordinate !== pageOffset + coordinateAnchor) {\n          requestAnimationFrame(step);\n        }\n      }\n    });\n  }\n})();\n","'use strict';\n\n(function () {\n  const loginButton = document.querySelector(`#login`);\n  const templateLogin = document.querySelector(`#popup-login`).content;\n\n\n  if (!templateLogin || !loginButton) {\n    return;\n  }\n\n  const cloneLogin = templateLogin.querySelector(`.login`).cloneNode(true);\n  const Popup = window.Popup;\n  const popupLogin = new Popup(cloneLogin);\n\n  loginButton.addEventListener(`click`, () => {\n    popupLogin.openPopup();\n  });\n})();\n"]}