{"version":3,"sources":["mocks.js","utils.js","slider.js","popup.js","step-three.js","step-two.js","step-one.js","map.js","scroll.js","login.js"],"names":["targets","house","title","names","fieldFullSum","fieldSum","lessSum","limits","min","max","minSum","step","percent","years","from","to","offer","sum","payment","car","credit","cities","coords","coords2","window","mocks","Year","ONE","FIVE","Divider","AFTER_THREE","AFTER_SIX","returnClearValue","parseInt","split","join","toString","transformYears","year","transformValue","length","substring","utils","Swiper","slider","document","querySelector","swiperTabs","swiper","loop","autoplay","delay","pagination","el","breakpoints","noSwiping","noSwipingClass","clickable","documentElement","clientWidth","services","wrapper","items","querySelectorAll","classList","add","item","KeyButton","ESC","ESC_NAME","ENTER","ENTER_NAME","TAB","TAB_NAME","Popup","popup","body","loginPopup","thanksPopup","login","password","loginButton","passwordButton","closeButton","onClosePopupClick","bind","onButtonKeydown","onClosePopupKeydown","onPasswordButtonMousedown","onPasswordButtonMouseup","onSubmitButtonKeydown","append","addEventListener","focus","remove","removeEventListener","e","preventDefault","keyCode","key","click","closePopup","setAttribute","user","value","localStorage","setItem","JSON","stringify","Numeral","FIRST_REQUEST","SECOND","blockStepTwo","blockOffer","defaultSelect","requestContainer","templateThanks","content","target","requestId","sumTitle","itemRequest","submitButton","name","inputs","number","cloneThanks","cloneNode","closeStepsBlock","style","display","checked","saveAndClearFields","person","tel","email","input","type","renderStepThree","textContent","removeErrorClass","isValid","validity","valid","openPopup","setTimeout","stepThree","blockBack","SALARY_PERCENT","Select","HOUSE","CAR","CREDIT","DEFAULT","FIRST_LITTER","LAST_LITTER","FIRST_SYMBOL","LAST_SYMBOL","SPACE","MONTHS","HUNDRED","Limit","MIDDLE","MAX","sumBlock","limit","sumWrapper","minusButton","plusButton","inputSum","sumFullTitle","pieceSum","fieldPieceSum","rangePieceSum","fieldYears","rangeYears","fromYears","toYears","checkboxesLabel","checkboxesVisible","checkboxes","sumOffer","percentOffer","everyMonthPayment","needSalary","offerButton","textCredit","textMoney","globalItem","addFirstPayment","price","percentPrice","addPercentFirstPayment","percentMin","newPercent","returnPercentRate","insurance","lifeInsurance","salaryBox","salaryClientRate","addInfoOffer","motherMoney","percentRate","amountMonths","percentRateFormula","parseFloat","formula","Math","pow","paymentEveryMonth","salary","addPercentYears","calcSumField","flag","newSum","calcFirstPayment","calcYearsField","limitValue","onSumFieldChange","placeholder","onPlusButtonClick","onMinusButtonClick","onYearsFieldChange","onInputKeydown","onPieceSumChange","percentSum","onRangePieceSumChange","onRangeYearsChange","onOfferButtonClick","onCheckboxKeydown","parentElement","control","renderCheckboxes","checkbox","dataset","renderStepTwo","firstPayment","toggleToStepTwo","stepTwo","calculatorContainer","buttonOpenSelect","labels","toggle","label","TABLET_BREAKPOINT","ymaps","mapBlock","ready","init","checkContainer","mapContainer","locationMark","icon","size","offset","marks","map","city","Placemark","iconLayout","iconImageHref","iconImageSize","iconImageOffset","myMap","Map","center","zoom","controls","position","left","right","bottom","top","behaviors","disable","onCheckboxesChange","boxesChecked","mark","geoObjects","i","box","links","speed","iter","getAttribute","anchor","coordinateAnchor","getBoundingClientRect","pageOffset","pageYOffset","start","requestAnimationFrame","time","progress","coordinate","scrollTo","templateLogin","cloneLogin","popupLogin"],"mappings":"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","file":"script.js","sourcesContent":["\"use strict\";\n\n(function () {\n  const targets = {\n    house: {\n      title: `Ипотека`,\n      names: {\n        fieldFullSum: `Стоимость недвижимости`,\n        fieldSum: `Сумма ипотеки`,\n        lessSum: `ипотечные кредиты`\n      },\n      limits: {\n        min: `1 200 000`,\n        max: `25 000 000`\n      },\n      minSum: 500000,\n      step: 100000,\n      percent: 10,\n      years: {\n        from: `5`,\n        to: `30`\n      },\n      offer: {\n        sum: ``,\n        years: ``,\n        payment: ``,\n      }\n    },\n    car: {\n      title: `Автокредит`,\n      names: {\n        fieldFullSum: `Стоимость автомобиля`,\n        fieldSum: `Сумма автокредита`,\n        lessSum: `автокредиты`\n      },\n      limits: {\n        min: `500 000`,\n        max: `5 000 000`\n      },\n      percent: 20,\n      minSum: 200000,\n      step: 50000,\n      years: {\n        from: `1`,\n        to: `5`\n      },\n      offer: {\n        sum: ``,\n        years: ``,\n        payment: ``,\n      }\n    },\n    credit: {\n      title: `Потребительский кредит`,\n      names: {\n        fieldFullSum: `Сумма потребительского кредита`,\n        fieldSum: `Сумма кредита`\n      },\n      limits: {\n        min: `50 000`,\n        max: `3 000 000`\n      },\n      percent: 0,\n      step: 50000,\n      years: {\n        from: `1`,\n        to: `7`\n      },\n      offer: {\n        sum: ``,\n        years: ``,\n        payment: `0 рублей`,\n      }\n    }\n  };\n\n  const cities = [\n    {\n      title: `russia`,\n      coords: 55.755814,\n      coords2: 37.617635,\n    },\n    {\n      title: `russia`,\n      coords: 59.938951,\n      coords2: 30.315635,\n    },\n    {\n      title: `russia`,\n      coords: 51.533557,\n      coords2: 46.034257,\n    },\n    {\n      title: `russia`,\n      coords: 58.603591,\n      coords2: 49.668014,\n    },\n    {\n      title: `russia`,\n      coords: 57.153033,\n      coords2: 65.534328,\n    },\n    {\n      title: `russia`,\n      coords: 54.989342,\n      coords2: 73.368212,\n    },\n    {\n      title: `sng`,\n      coords: 40.372967,\n      coords2: 49.853139,\n    },\n    {\n      title: `sng`,\n      coords: 41.311151,\n      coords2: 69.279737,\n    },\n    {\n      title: `sng`,\n      coords: 53.902284,\n      coords2: 27.561831,\n    },\n    {\n      title: `sng`,\n      coords: 43.237156,\n      coords2: 76.945618,\n    },\n    {\n      title: `europe`,\n      coords: 48.856663,\n      coords2: 2.351556,\n    },\n    {\n      title: `europe`,\n      coords: 50.080293,\n      coords2: 14.428983,\n    },\n    {\n      title: `europe`,\n      coords: 51.507351,\n      coords2: -0.127660,\n    },\n    {\n      title: `europe`,\n      coords: 41.902689,\n      coords2: 12.496176,\n    }\n  ];\n\n  window.mocks = {\n    targets,\n    cities\n  };\n})();\n","'use strict';\n\n(function () {\n  const Year = {\n    ONE: 1,\n    FIVE: 5\n  };\n\n  const Divider = {\n    AFTER_THREE: 3,\n    AFTER_SIX: 6\n  };\n\n  const returnClearValue = (sum) => {\n    return parseInt(sum.split(` `).join(``), 10).toString();\n  };\n\n  const transformYears = (year) => {\n    if (!year) {\n      return ``;\n    }\n\n    year = returnClearValue(year);\n\n    if (+year === Year.ONE) {\n      return `${year} год`;\n    }\n\n    if (+year > Year.ONE && +year < Year.FIVE) {\n      return `${year} года`;\n    }\n\n    return `${year} лет`;\n  };\n\n  const transformValue = (sum) => {\n\n    if (!sum) {\n      return ``;\n    }\n\n    sum = returnClearValue(sum);\n\n    if (sum.length <= Divider.AFTER_SIX && sum.length > Divider.AFTER_THREE) {\n      return `${sum.substring(sum.length - Divider.AFTER_THREE, 0)} ${sum.substring(sum.length - Divider.AFTER_THREE)} рублей`;\n    }\n\n    if (sum.length > Divider.AFTER_SIX) {\n      return `${sum.substring(sum.length - Divider.AFTER_SIX, 0)} ${sum.substring(sum.length - Divider.AFTER_THREE, sum.length - Divider.AFTER_SIX)} ${sum.substring(sum.length - Divider.AFTER_THREE)} рублей`;\n    }\n\n    return `${sum} рублей`;\n  };\n\n  window.utils = {\n    returnClearValue,\n    transformValue,\n    transformYears\n  };\n})();\n","'use strict';\n\n(function () {\n  const Swiper = window.Swiper;\n\n  if (!Swiper) {\n    return;\n  }\n\n  const slider = document.querySelector(`.slider`);\n  let swiperTabs;\n\n  const swiper = new Swiper(slider, {\n    loop: true,\n    autoplay: {\n      delay: 4000\n    },\n    pagination: {\n      el: `.slider__pagination`\n    },\n    breakpoints: {\n      1024: {\n        noSwiping: true,\n        noSwipingClass: `slider`,\n        pagination: {\n          clickable: true,\n        },\n      }\n    }\n  });\n\n  if (document.documentElement.clientWidth < 1024) {\n    const services = document.querySelector(`.services__wrapper form`);\n    const wrapper = services.querySelector(`form > ul`);\n    const items = services.querySelectorAll(`form > ul li`);\n\n    services.classList.add(`swiper-container`);\n    wrapper.classList.add(`swiper-wrapper`);\n\n    for (const item of items) {\n      item.classList.add(`swiper-slide`);\n    }\n\n    swiperTabs = new Swiper(services, {\n      breakpoints: {\n        280: {\n          loop: true,\n          pagination: {\n            el: `.services__pagination`\n          },\n        },\n        1024: {\n          loop: false,\n          noSwiping: true,\n          noSwipingClass: `swiper-container`,\n        }\n      }\n    });\n  }\n\n  window.slider = {\n    swiperTabs,\n    swiper\n  };\n})();\n","'use strict';\n\n(function () {\n  const KeyButton = {\n    ESC: 27,\n    ESC_NAME: `Escape`,\n    ENTER: 13,\n    ENTER_NAME: `Enter`,\n    TAB: 9,\n    TAB_NAME: `Tab`\n  };\n\n  class Popup {\n    constructor(popup) {\n      this.popup = popup;\n      this.body = document.querySelector(`body`);\n      this.loginPopup = this.popup.querySelector(`.login__wrapper`);\n      this.thanksPopup = this.popup.querySelector(`.thanks__wrapper`);\n      this.login = this.popup.querySelector(`#login-field`);\n      this.password = this.popup.querySelector(`#password-field`);\n      this.loginButton = this.popup.querySelector(`#login-button`);\n      this.passwordButton = this.popup.querySelector(`#password-button`);\n      this.closeButton = this.popup.querySelector(`.close`);\n\n      this.onClosePopupClick = this.onClosePopupClick.bind(this);\n      this.onButtonKeydown = this.onButtonKeydown.bind(this);\n      this.onClosePopupKeydown = this.onClosePopupKeydown.bind(this);\n      this.onPasswordButtonMousedown = this.onPasswordButtonMousedown.bind(this);\n      this.onPasswordButtonMouseup = this.onPasswordButtonMouseup.bind(this);\n      this.onSubmitButtonKeydown = this.onSubmitButtonKeydown.bind(this);\n    }\n\n    openPopup() {\n      this.body.classList.add(`active-popup`);\n      this.body.append(this.popup);\n\n      this.closeButton.addEventListener(`click`, this.onClosePopupClick);\n      document.addEventListener(`keydown`, this.onClosePopupKeydown);\n\n      if (this.loginPopup) {\n        this.login.focus();\n        this.loginButton.addEventListener(`keydown`, this.onButtonKeydown);\n        this.loginButton.addEventListener(`click`, this.onSubmitButtonKeydown);\n        this.passwordButton.addEventListener(`mousedown`, this.onPasswordButtonMousedown);\n        this.passwordButton.addEventListener(`mouseup`, this.onPasswordButtonMouseup);\n        return;\n      }\n\n      this.closeButton.addEventListener(`keydown`, this.onButtonKeydown);\n      this.closeButton.focus();\n    }\n\n    closePopup() {\n      this.body.classList.remove(`active-popup`);\n      this.closeButton.removeEventListener(`click`, this.onClosePopupClick);\n      document.removeEventListener(`keydown`, this.onClosePopupKeydown);\n\n      if (this.loginPopup) {\n        this.loginButton.removeEventListener(`keydown`, this.onButtonKeydown);\n        this.loginButton.removeEventListener(`click`, this.onSubmitButtonKeydown);\n        this.passwordButton.removeEventListener(`mousedown`, this.onPasswordButtonMousedown);\n        this.passwordButton.removeEventListener(`mouseup`, this.onPasswordButtonMouseup);\n        return;\n      }\n\n      this.closeButton.removeEventListener(`keydown`, this.onButtonKeydown);\n    }\n\n    onButtonKeydown(e) {\n      e.preventDefault();\n\n      if (e.keyCode === KeyButton.TAB || e.key === KeyButton.TAB_NAME) {\n        this.closeButton.focus();\n      }\n\n      if (e.keyCode === KeyButton.ENTER || e.key === KeyButton.ENTER_NAME) {\n        this.closeButton.click();\n      }\n    }\n\n    onClosePopupKeydown(e) {\n      if (e.keyCode === KeyButton.ESC || e.key === KeyButton.ESC_NAME) {\n        this.popup.remove();\n        this.closePopup();\n      }\n    }\n\n    onClosePopupClick() {\n      this.popup.remove();\n      this.closePopup();\n    }\n\n    onPasswordButtonMousedown() {\n      this.password.setAttribute(`type`, `text`);\n    }\n\n    onPasswordButtonMouseup() {\n      this.password.setAttribute(`type`, `password`);\n    }\n\n    onSubmitButtonKeydown() {\n      const user = {\n        login: this.login.value,\n        password: this.password.value\n      };\n\n      localStorage.setItem(`user`, JSON.stringify(user));\n    }\n  }\n\n  window.Popup = Popup;\n})();\n","'use strict';\n\n(function () {\n  const Numeral = {\n    FIRST_REQUEST: 1,\n    SECOND: 1000\n  };\n\n  const blockStepTwo = document.querySelector(`.calculator__step-two`);\n  const blockOffer = document.querySelector(`.calculator__offer`);\n  const defaultSelect = document.querySelector(`#option-1`);\n  const requestContainer = document.querySelector(`.calculator__request`);\n  const templateThanks = document.querySelector(`#popup-thanks`).content;\n\n  if (!blockStepTwo || !blockOffer || !defaultSelect || !requestContainer || !templateThanks) {\n    return;\n  }\n\n  const target = requestContainer.querySelector(`#request-target`);\n  const requestId = requestContainer.querySelector(`#request-id`);\n  const sum = requestContainer.querySelector(`#request-sum`);\n  const payment = requestContainer.querySelector(`#request-payment`);\n  const years = requestContainer.querySelector(`#request-years`);\n  const sumTitle = requestContainer.querySelector(`#sum-title`);\n  const itemRequest = requestContainer.querySelector(`#request-item`);\n  const submitButton = requestContainer.querySelector(`button`);\n  const name = requestContainer.querySelector(`input[type='text']`);\n  const inputs = requestContainer.querySelectorAll(`input`);\n  let number = Numeral.FIRST_REQUEST;\n\n  const cloneThanks = templateThanks.querySelector(`.thanks`).cloneNode(true);\n\n  const Popup = window.Popup;\n  const popup = new Popup(cloneThanks);\n\n  const closeStepsBlock = () => {\n    blockStepTwo.style.display = `none`;\n    blockOffer.style.display = `none`;\n    requestContainer.style.display = `none`;\n    defaultSelect.checked = true;\n  };\n\n  const saveAndClearFields = () => {\n\n    let person = {\n      name: ``,\n      tel: ``,\n      email: ``\n    };\n\n    for (const input of inputs) {\n      if (input.type === `email`) {\n        person.email = input.value;\n      }\n\n      if (input.type === `text`) {\n        person.name = input.value;\n      }\n\n      if (input.type === `tel`) {\n        person.tel = input.value;\n      }\n\n      input.value = ``;\n    }\n\n    localStorage.setItem(`person`, JSON.stringify(person));\n  };\n\n  const renderStepThree = (item) => {\n    requestContainer.style.display = `block`;\n    requestId.textContent = `№ 00${number}`;\n    target.textContent = item.title;\n    sumTitle.textContent = item.names.fieldFullSum;\n    years.textContent = item.offer.years;\n    sum.textContent = item.offer.sum;\n\n    name.focus();\n\n    if (!item.offer.payment) {\n      itemRequest.style.display = `none`;\n      return;\n    }\n\n    itemRequest.style.display = `flex`;\n    payment.textContent = item.offer.payment;\n  };\n\n  const removeErrorClass = () => {\n    for (const input of inputs) {\n      input.classList.remove(`error`);\n    }\n  };\n\n  submitButton.addEventListener(`click`, (e) => {\n    let isValid = true;\n\n    e.preventDefault();\n\n    for (const input of inputs) {\n      if (!input.validity.valid) {\n        input.classList.add(`error`);\n        input.value = ``;\n        isValid = false;\n      }\n    }\n\n    if (isValid) {\n      popup.openPopup();\n      saveAndClearFields();\n      closeStepsBlock();\n      number++;\n    }\n\n    setTimeout(() => {\n      removeErrorClass();\n    }, Numeral.SECOND);\n  });\n\n  window.stepThree = renderStepThree;\n\n})();\n","'use strict';\n\n(function () {\n  const requestContainer = document.querySelector(`.calculator__request`);\n  const blockStepTwo = document.querySelector(`.calculator__step-two`);\n  const blockOffer = document.querySelector(`.calculator__offer`);\n  const blockBack = document.querySelector(`.calculator__back`);\n\n\n  if (!requestContainer || !blockStepTwo || !blockOffer || !blockBack) {\n    return;\n  }\n\n  const SALARY_PERCENT = 45;\n\n  const Select = {\n    HOUSE: `Ипотека`,\n    CAR: `Автокредит`,\n    CREDIT: `Потребительский кредит`,\n    DEFAULT: `default`\n  };\n\n  const KeyButton = {\n    FIRST_LITTER: 64,\n    LAST_LITTER: 91,\n    FIRST_SYMBOL: 157,\n    LAST_SYMBOL: 223,\n    SPACE: 32,\n    ENTER: 13,\n    ENTER_NAME: `Enter`\n  };\n\n  const Numeral = {\n    MONTHS: 12,\n    HUNDRED: 100,\n  };\n\n  const Limit = {\n    MIDDLE: 750000,\n    MAX: 2000000\n  };\n\n  const sumBlock = blockStepTwo.querySelector(`.calculator__sum`);\n  const limit = sumBlock.querySelector(`span`);\n  const sumWrapper = sumBlock.querySelector(`.calculator__sum-wrapper`);\n  const minusButton = sumWrapper.querySelector(`#btn-minus`);\n  const plusButton = sumWrapper.querySelector(`#btn-plus`);\n  const inputSum = sumBlock.querySelector(`input`);\n  const sumFullTitle = blockStepTwo.querySelector(`.calculator__wrapper-two label`);\n  const pieceSum = blockStepTwo.querySelector(`.calculator__piece`);\n  const fieldPieceSum = pieceSum.querySelector(`input[type='text']`);\n  const rangePieceSum = pieceSum.querySelector(`input[type='range']`);\n  const percent = pieceSum.querySelector(`span`);\n  const fieldYears = blockStepTwo.querySelector(`#years`);\n  const rangeYears = blockStepTwo.querySelector(`#range-years`);\n  const fromYears = blockStepTwo.querySelector(`.calculator__years-limit span:first-of-type`);\n  const toYears = blockStepTwo.querySelector(`.calculator__years-limit span:last-of-type`);\n  const checkboxesLabel = blockStepTwo.querySelectorAll(`input[type='checkbox'] + label`);\n  const checkboxesVisible = blockStepTwo.querySelectorAll(`input[type='checkbox'] + label span`);\n  const checkboxes = blockStepTwo.querySelectorAll(`input[type=\"checkbox\"]`);\n\n  const sumTitle = blockOffer.querySelector(`ul li:first-of-type span:last-of-type`);\n  const sumOffer = blockOffer.querySelector(`#info-sum`);\n  const percentOffer = blockOffer.querySelector(`#info-percent`);\n  const everyMonthPayment = blockOffer.querySelector(`#info-piece`);\n  const needSalary = blockOffer.querySelector(`#info-salary`);\n  const offerButton = blockOffer.querySelector(`button`);\n\n  const textCredit = blockBack.querySelector(`span:first-of-type`);\n  const textMoney = blockBack.querySelector(`span:last-of-type`);\n\n\n  const transformValue = window.utils.transformValue;\n  const returnClearValue = window.utils.returnClearValue;\n  const transformYears = window.utils.transformYears;\n  const targets = window.mocks.targets;\n  const renderStepThree = window.stepThree;\n  let globalItem = null;\n\n  const addFirstPayment = () => {\n    const price = +returnClearValue(inputSum.value);\n    const percentPrice = (price / Numeral.HUNDRED) * +rangePieceSum.value;\n    return transformValue(percentPrice.toString());\n  };\n\n  const addPercentFirstPayment = (percentMin) => {\n    const newPercent = parseInt((+returnClearValue(fieldPieceSum.value) / +returnClearValue(inputSum.value)) * Numeral.HUNDRED, 10);\n\n    rangePieceSum.setAttribute(`value`, percentMin || newPercent);\n    rangePieceSum.value = percentMin || newPercent;\n    return newPercent;\n  };\n\n  const returnPercentRate = () => {\n    const insurance = blockStepTwo.querySelector(`#insurance`);\n    const lifeInsurance = blockStepTwo.querySelector(`#life-insurance`);\n    const salaryBox = blockStepTwo.querySelector(`#salary`);\n\n    if (globalItem.title === Select.CAR) {\n      if (insurance.checked && lifeInsurance.checked) {\n        return `3.5%`;\n      }\n\n      if (insurance.checked || lifeInsurance.checked) {\n        return `8.5%`;\n      }\n\n      return +returnClearValue(inputSum.value) - +returnClearValue(fieldPieceSum.value) < Limit.MAX ? `16%` : `15%`;\n    }\n\n    if (globalItem.title === Select.CREDIT) {\n      const salaryClientRate = salaryBox.checked ? 0.5 : 0;\n\n      if (+returnClearValue(inputSum.value) < Limit.MIDDLE) {\n        return `${15 - salaryClientRate}%`;\n      }\n\n      return +returnClearValue(inputSum.value) < Limit.MAX ? `${12.5 - salaryClientRate}%` : `${9.5 - salaryClientRate}%`;\n    }\n\n    return +rangePieceSum.value >= 15 ? `8.5%` : `9.4%`;\n  };\n\n  const addInfoOffer = () => {\n    const motherMoney = blockStepTwo.querySelector(`#mother-money`);\n    let sum = +returnClearValue(inputSum.value) - +returnClearValue(fieldPieceSum.value);\n\n    if (motherMoney.checked) {\n      sum -= +motherMoney.value;\n    }\n\n    if (sum < globalItem.minSum) {\n      blockOffer.style.display = `none`;\n      blockBack.style.display = `block`;\n    }\n\n    if (sum >= globalItem.minSum) {\n      blockOffer.style.display = `block`;\n      blockBack.style.display = `none`;\n    }\n\n    const percentRate = returnPercentRate();\n    const amountMonths = +returnClearValue(fieldYears.value) * Numeral.MONTHS;\n    const percentRateFormula = (parseFloat(percentRate, 10) / Numeral.HUNDRED) / Numeral.MONTHS;\n    const formula = Math.pow(1 + percentRateFormula, amountMonths) - 1;\n    const paymentEveryMonth = sum * (percentRateFormula + percentRateFormula / formula);\n\n    everyMonthPayment.textContent = transformValue(paymentEveryMonth.toString());\n\n    const salary = +returnClearValue(everyMonthPayment.textContent) * (Numeral.HUNDRED / SALARY_PERCENT);\n\n    sumOffer.textContent = transformValue(sum.toString());\n    needSalary.textContent = transformValue(salary.toString());\n    percentOffer.textContent = percentRate;\n\n    globalItem.offer.sum = inputSum.value;\n    globalItem.offer.payment = globalItem.title === Select.CREDIT ? null : fieldPieceSum.value;\n    globalItem.offer.years = fieldYears.value;\n  };\n\n  const addPercentYears = () => {\n    const years = returnClearValue(fieldYears.value);\n\n    rangeYears.setAttribute(`value`, years);\n    rangeYears.value = years;\n  };\n\n  const calcSumField = (item, flag) => {\n    let newSum;\n\n    if (!inputSum.value) {\n      return;\n    }\n\n    if (flag) {\n      newSum = +returnClearValue(inputSum.value) + item.step;\n    } else {\n      newSum = +returnClearValue(inputSum.value) - item.step;\n    }\n\n    inputSum.value = transformValue(newSum.toString());\n\n    if (+returnClearValue(inputSum.value) >= +returnClearValue(item.limits.max)) {\n      calcFirstPayment(item.limits.max);\n      return;\n    }\n\n    if (+returnClearValue(inputSum.value) <= +returnClearValue(item.limits.min)) {\n      calcFirstPayment(item.limits.min);\n      return;\n    }\n\n    fieldPieceSum.value = addFirstPayment();\n    addInfoOffer();\n  };\n\n  const calcYearsField = (value) => {\n    fieldYears.value = transformYears(value);\n    addPercentYears();\n    addInfoOffer();\n  };\n\n  const calcFirstPayment = (limitValue) => {\n    inputSum.value = transformValue(limitValue);\n    fieldPieceSum.value = addFirstPayment();\n    addInfoOffer();\n  };\n\n  const onSumFieldChange = () => {\n\n    sumWrapper.classList.remove(`error`);\n    inputSum.placeholder = ``;\n\n    if (+returnClearValue(inputSum.value) < +returnClearValue(globalItem.limits.min) || +returnClearValue(inputSum.value) > +returnClearValue(globalItem.limits.max)) {\n      sumWrapper.classList.add(`error`);\n      inputSum.value = ``;\n      inputSum.placeholder = `Некорректное значение`;\n      return;\n    }\n\n    inputSum.value = transformValue(inputSum.value);\n    fieldPieceSum.value = addFirstPayment();\n    addInfoOffer();\n  };\n\n  const onPlusButtonClick = () => {\n    calcSumField(globalItem, true);\n  };\n\n  const onMinusButtonClick = () => {\n    calcSumField(globalItem, false);\n  };\n\n  const onYearsFieldChange = () => {\n    if (+fieldYears.value < +returnClearValue(globalItem.years.from)) {\n      calcYearsField(globalItem.years.from);\n      return;\n    }\n\n    if (+fieldYears.value > +returnClearValue(globalItem.years.to)) {\n      calcYearsField(globalItem.years.to);\n      return;\n    }\n\n    fieldYears.value = transformYears(fieldYears.value);\n    calcYearsField(fieldYears.value);\n  };\n\n  const onInputKeydown = (e) => {\n    if ((e.keyCode > KeyButton.FIRST_LITTER && e.keyCode < KeyButton.LAST_LITTER) || (e.keyCode > KeyButton.FIRST_SYMBOL && e.keyCode < KeyButton.LAST_SYMBOL) || e.keyCode === KeyButton.SPACE) {\n      e.preventDefault();\n    }\n  };\n\n  const onPieceSumChange = () => {\n    const percentSum = addPercentFirstPayment();\n\n    if (percentSum <= globalItem.percent) {\n      addPercentFirstPayment(globalItem.percent);\n      fieldPieceSum.value = addFirstPayment();\n      addInfoOffer();\n      return;\n    }\n\n    fieldPieceSum.value = transformValue(fieldPieceSum.value);\n    addInfoOffer();\n  };\n\n  const onRangePieceSumChange = () => {\n    fieldPieceSum.value = addFirstPayment();\n    addInfoOffer();\n  };\n\n  const onRangeYearsChange = () => {\n    fieldYears.value = transformYears(rangeYears.value);\n    addInfoOffer();\n  };\n\n  const onOfferButtonClick = () => {\n    renderStepThree(globalItem);\n  };\n\n  const onCheckboxKeydown = (e) => {\n    if (e.keyCode === KeyButton.ENTER || e.key === KeyButton.ENTER_NAME) {\n      e.target.parentElement.control.click();\n    }\n  };\n\n  const renderCheckboxes = (title) => {\n    for (const checkbox of checkboxes) {\n      checkbox.checked = false;\n    }\n\n    for (const checkbox of checkboxesLabel) {\n      checkbox.style.display = `none`;\n\n      if (checkbox.dataset.title === title) {\n        checkbox.style.display = `flex`;\n      }\n    }\n  };\n\n  const renderStepTwo = (item) => {\n    globalItem = item;\n    const firstPayment = ((+returnClearValue(item.limits.min) / Numeral.HUNDRED) * item.percent).toString();\n\n    blockStepTwo.style.display = `block`;\n    blockOffer.style.display = `block`;\n    requestContainer.style.display = `none`;\n    pieceSum.style.display = pieceSum.dataset.title === item.title ? `none` : `flex`;\n\n    sumFullTitle.textContent = item.names.fieldFullSum;\n    limit.textContent = `От ${item.limits.min} до ${item.limits.max} рублей`;\n    sumTitle.textContent = item.names.fieldSum;\n    inputSum.value = transformValue(returnClearValue(item.limits.min));\n    fieldPieceSum.value = transformValue(firstPayment);\n    rangePieceSum.setAttribute(`min`, item.percent);\n    rangePieceSum.setAttribute(`value`, item.percent);\n    rangePieceSum.value = item.percent;\n    percent.textContent = `${item.percent}%`;\n    fieldYears.value = transformYears(item.years.from);\n    rangeYears.setAttribute(`min`, item.years.from);\n    rangeYears.setAttribute(`max`, item.years.to);\n    rangeYears.setAttribute(`value`, item.years.from);\n    rangeYears.value = item.years.from;\n    fromYears.textContent = transformYears(item.years.from);\n    toYears.textContent = transformYears(item.years.to);\n    textCredit.textContent = item.names.lessSum || null;\n    textMoney.textContent = transformValue(item.minSum ? item.minSum.toString() : null);\n\n    renderCheckboxes(item.title);\n    addInfoOffer();\n  };\n\n  const toggleToStepTwo = (value) => {\n    switch (value) {\n      case Select.HOUSE:\n        renderStepTwo(targets.house);\n        break;\n      case Select.CAR:\n        renderStepTwo(targets.car);\n        break;\n      case Select.CREDIT:\n        renderStepTwo(targets.credit);\n        break;\n      case Select.DEFAULT:\n        blockStepTwo.style.display = `none`;\n        blockOffer.style.display = `none`;\n        requestContainer.style.display = `none`;\n        break;\n    }\n  };\n\n\n  inputSum.addEventListener(`change`, onSumFieldChange);\n  fieldYears.addEventListener(`change`, onYearsFieldChange);\n  fieldPieceSum.addEventListener(`change`, onPieceSumChange);\n  rangePieceSum.addEventListener(`change`, onRangePieceSumChange);\n  rangeYears.addEventListener(`change`, onRangeYearsChange);\n  plusButton.addEventListener(`click`, onPlusButtonClick);\n  minusButton.addEventListener(`click`, onMinusButtonClick);\n  offerButton.addEventListener(`click`, onOfferButtonClick);\n  inputSum.addEventListener(`keydown`, onInputKeydown);\n  fieldPieceSum.addEventListener(`keydown`, onInputKeydown);\n  fieldYears.addEventListener(`keydown`, onInputKeydown);\n\n  for (const checkbox of checkboxes) {\n    checkbox.addEventListener(`change`, addInfoOffer);\n  }\n\n  for (const checkbox of checkboxesVisible) {\n    checkbox.addEventListener(`keydown`, onCheckboxKeydown);\n  }\n\n  window.stepTwo = {\n    toggleToStepTwo\n  };\n})();\n","'use strict';\n\n(function () {\n  const calculatorContainer = document.querySelector(`.calculator__step-wrapper`);\n\n  if (!calculatorContainer) {\n    return;\n  }\n\n  const buttonOpenSelect = calculatorContainer.querySelector(`button`);\n  const labels = calculatorContainer.querySelectorAll(`label`);\n  const toggleToStepTwo = window.stepTwo.toggleToStepTwo;\n\n  calculatorContainer.addEventListener(`change`, () => {\n    const input = calculatorContainer.querySelector(`input:checked`);\n    toggleToStepTwo(input.value);\n  });\n\n\n  buttonOpenSelect.addEventListener(`click`, () => {\n    calculatorContainer.classList.toggle(`open`);\n  });\n\n  for (const label of labels) {\n    label.addEventListener(`click`, () => {\n      calculatorContainer.classList.toggle(`open`);\n    });\n  }\n})();\n","'use strict';\n\n(function () {\n  const TABLET_BREAKPOINT = 768;\n  const KeyButton = {\n    ENTER: 13,\n    ENTER_NAME: `Enter`\n  };\n\n  const ymaps = window.ymaps;\n\n  const mapBlock = document.querySelector(`#branches`);\n\n  if (!mapBlock) {\n    return;\n  }\n\n  ymaps.ready(init);\n\n  const checkContainer = mapBlock.querySelector(`.branches__check`);\n  const checkboxes = checkContainer.querySelectorAll(`label span`);\n\n  const mapContainer = mapBlock.querySelector(`#map`);\n  const cities = window.mocks.cities;\n\n  let locationMark = {\n    icon: `img/location.png`,\n    size: [35, 40],\n    offset: [-17, -40]\n  };\n\n  if (document.documentElement.clientWidth < TABLET_BREAKPOINT) {\n    locationMark.icon = `img/location-phone.png`;\n    locationMark.size = [27, 33];\n    locationMark.offset = [-14, -33];\n  }\n\n  const onCheckboxKeydown = (e) => {\n    if (e.keyCode === KeyButton.ENTER || e.key === KeyButton.ENTER_NAME) {\n      e.target.parentElement.control.click();\n    }\n  };\n\n  function init() {\n\n    const marks = cities.map((city) => {\n      return new ymaps.Placemark([city.coords, city.coords2], {}, {\n        iconLayout: `default#image`,\n        iconImageHref: locationMark.icon,\n        iconImageSize: locationMark.size,\n        iconImageOffset: locationMark.offset\n      });\n    });\n\n    const myMap = new ymaps.Map(mapContainer, {\n      center: [55.76, 37.64],\n      zoom: 4,\n      controls: []\n    });\n\n    myMap.controls.add(`zoomControl`, {\n      size: `small`,\n      position: {\n        left: `auto`,\n        right: 10,\n        bottom: 195,\n        top: `auto`\n      }\n    });\n\n    myMap.controls.add(`geolocationControl`, {\n      position: {\n        left: `auto`,\n        right: 10,\n        bottom: 150,\n        top: `auto`\n      }\n    });\n\n    myMap.behaviors.disable(`scrollZoom`);\n\n    const onCheckboxesChange = () => {\n      const boxesChecked = checkContainer.querySelectorAll(`.branches__check input[type='checkbox']:checked`);\n\n      for (const mark of marks) {\n        myMap.geoObjects.remove(mark);\n      }\n\n      for (let i = 0; i < cities.length; i++) {\n        for (const checkbox of boxesChecked) {\n          if (checkbox.value === cities[i].title) {\n            myMap.geoObjects.add(marks[i]);\n          }\n        }\n      }\n    };\n\n    checkContainer.addEventListener(`change`, onCheckboxesChange);\n\n    for (const box of checkboxes) {\n      box.addEventListener(`keydown`, onCheckboxKeydown);\n    }\n  }\n})();\n","'use strict';\n\n(function () {\n  const links = document.querySelectorAll(`[href^='#']`);\n  const speed = 0.5;\n\n  for (const iter of links) {\n    iter.addEventListener(`click`, (e) => {\n      e.preventDefault();\n\n      if (iter.getAttribute(`href`) === `#`) {\n        return;\n      }\n\n      const anchor = document.querySelector(iter.getAttribute(`href`));\n      const coordinateAnchor = anchor.getBoundingClientRect().top;\n      const pageOffset = window.pageYOffset;\n\n      let start = null;\n\n      requestAnimationFrame(step);\n\n      function step(time) {\n        if (start === null) {\n          start = time;\n        }\n\n        let progress = time - start;\n\n        let coordinate =\n          coordinateAnchor < 0\n            ? Math.max(pageOffset - progress / speed, pageOffset + coordinateAnchor)\n            : Math.min(pageOffset + progress / speed, pageOffset + coordinateAnchor);\n\n        window.scrollTo(0, coordinate);\n        if (coordinate !== pageOffset + coordinateAnchor) {\n          requestAnimationFrame(step);\n        }\n      }\n    });\n  }\n})();\n","'use strict';\n\n(function () {\n  const loginButton = document.querySelector(`#login`);\n  const templateLogin = document.querySelector(`#popup-login`).content;\n\n\n  if (!templateLogin || !loginButton) {\n    return;\n  }\n\n  const cloneLogin = templateLogin.querySelector(`.login`).cloneNode(true);\n  const Popup = window.Popup;\n  const popupLogin = new Popup(cloneLogin);\n\n  loginButton.addEventListener(`click`, () => {\n    popupLogin.openPopup();\n  });\n})();\n"]}